<% include partials/header.ejs%>
<link rel="stylesheet" type="text/css" href="/style/room.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<style>
    .fl {
        display: flex;
        justify-content: space-around;
        width: 80%;
    }
</style>
<h2 style="margin: 2% 3%;"><%=room.Name%></h2>
<div class="row" style="margin: 0% 3%;">
    <div class="col-md-4" style="padding:0;">
        <ul class="list-group">
            <li class="list-group-item w-100">From: <%=room.Price%>$/Night</li>
            <li class="list-group-item w-100">Type: <%=room.Type%></li>
            <li class="list-group-item w-100"><% room.Tag.forEach((tag)=>{%>
                <span class="badge badge-pill badge-primary"><%=tag.description%></span>
                <% }) %>
            </li>
            <li class="list-group-item w-100">Availability:

            </li>

        </ul>
    </div>
    <div class="col-md-8" style=" padding:0;">
        <div id="myCarousel" class="carousel slide" data-ride="carousel" style="margin:0 auto;">
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="d-block slide" src="/asset/resort.jpg" alt="First slide">
                </div>
                <div class="carousel-item">
                    <img class="d-block slide" src="/asset/beach2.png" alt="Second slide">
                </div>
                <div class="carousel-item">
                    <img class="d-block slide" src="/asset/resort.jpg" alt="Third slide">
                </div>
            </div>
            <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>

    <form class="form-inline" action="/book" method="GET"
        style="width:100%; justify-content: space-evenly; margin: 15px 0">

        <div class="form-group">
            <label for='from'>From:</label>
            <input class="datePicker form-control" type="date" name="from">
        </div>
        <div class="form-group">
            <label for="to">To:</label>
            <input class="datePicker form-control" type="date" name="to">
        </div>
        <div class="form-group">
            <label for="Adult" class="control-label">Adult</label>
            <select class="form-control" name="adult">
                <%for(var i=1;i<=5;i++){%>
                <option><%=i%></option>
                <%}%>
                </select>           
        </div>
        <div class="form-group">
            <label for="Children" class="control-label">Children</label>
            <select class="form-control"  name="children">
                <%for(var i=1;i<=5;i++){%>
                <option><%=i%></option>
                <%}%>
            </select>           
        </div>
        <div>
        <button class="btn btn-primary" type="submit">Find</button>
        <input type="hidden" value="<%=room.Name%>" name="Name">
        </div>
    </form>
    <% if (info.message == "Normal") { %>
    <% } else {%>
    <div class="alert alert-danger alert-dismissible fade show text-center" style="width: 100%" role="alert">
        Sorry: <%=info.message%> at this time.
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <%}%>
</div>

<div class="container">
    <h4>Lorem Ipsum</h4>
    <div>
        <p style="padding: 2% 5%;">
            Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been
            the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley
            of type and scrambled it to make a type specimen book.
        </p>
        <p style="padding: 2% 5%;">
            There are many variations of passages of Lorem Ipsum available, but the majority have suffered
            alteration in some form, by injected humour, or randomised words which don't look even slightly
            believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't
            anything embarrassing hidden in the middle of text.
        </p>
    </div>
    <div class="flx">
        <div class="my-auto box">
            <div class="card border-primary ">
                <div class="card-body text-primary text-center ">
                    <h5>Pool</h5>
                    <i class="fas fa-swimmer"></i>
                </div>
            </div>
        </div>
        <div class="my-auto box">
            <div class="card border-primary ">
                <div class="card-body text-primary text-center ">
                    <h5>Gym</h5>
                   
                    <i class="fas fa-dumbbell"></i>
                </div>
            </div>
        </div>
        <div class="my-auto box">
            <div class="card border-primary ">
                <div class="card-body text-primary text-center ">
                    <h5>Buffet</h5>
                    <i class="fas fa-utensils"></i>
                </div>
            </div>
        </div>
        <div class="my-auto box">
            <div class="card border-primary ">
                <div class="card-body text-primary text-center ">
                    <h5>Spa</h5>
                    <i class="fas fa-hot-tub"></i>
                </div>
            </div>
        </div>
    </div>
    <div>
        <h4>Amenities Include</h4>
        <p>There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration
            in
            some form, by injected humour, or randomised words which don't look even slightly believable. If you are
            going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in
            the
            middle of text.</p>
        <div class="row" style="margin: 20px 5%; ">
            <div class="col-md-6">
                <ul>
                    <li> Feature 1</li>
                    <li> Feature 2</li>
                    <li> Feature 3</li>
                    <li> Feature 4</li>
                    
                </ul>
            </div>
            <div class="col-md-6">
                <ul>
                    <li> Feature 5</li>
                    <li> Feature 6</li>
                    <li> Feature 7</li>
                    <li> Feature 8</li>
                  
                </ul>
            </div>
        </div>
    </div>
    <div class="border container" style="margin-bottom: 2%;"
        id="commentSection">
     <h3>Comments</h3>
     <hr>
    <%room.Comments.forEach(function(item){%>
    <div class="row">
        <div class="col-md-12">
            <strong><%=item.Author.username%></strong>
            <span style="float: right;"><%=item.Created.toDateString()%>
                <%=item.Created.getHours()%>:<%=item.Created.getMinutes()%></span>
            <p style="word-wrap: break-word;"><%=item.Body%></p>
        </div>
    </div>
    <%});%>
</div>
<div>
    <% if(user) { %>
    <form class="comment form row" action="/rooms/<%=room.Name%>" method="POST">
        <div class="col-md-1">
            <h4><%=user.username%></h4>
        </div>
        <textarea class="form-control col-md-11" type="text" name="Body" placeholder="What do you think?" name="Comment"
            style="margin:0% 5%; margin-bottom: 2%;"></textarea>
        <button class="btn btn-primary">Send</button>
    </form>
    <% } else  {%>
    <div>
        <div class="text-center" style="opacity: 1; z-: 1; height:100px;">
            <a href="/login">Login</a> or
            <a href="/signup">Signup</a>
            to
            comment
        </div>
    </div>
    <% } %>

</div>
</div>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
<script>
    $(document).ready(function () {
        // Activate Carousel with a specified interval
        $("#myCarousel").carousel({ interval: 1500 });
    });
    var today = new Date();
    var tomorrow = new Date();
    tomorrow.setDate(today.getDate() + 1);
    document.getElementsByClassName('datePicker')[0].valueAsDate = today;
    document.getElementsByClassName('datePicker')[1].valueAsDate = tomorrow;
</script>
<script>
    var i = 0;
    for (i = 0; i < $("#commentSection")[0].children.length; i++) {
        if (i % 2 == 0) { $(".col-md-12").eq(i).css("background-color", "LightCyan"); }
        else { }
        i++;
    }

</script>
<% include partials/footer.ejs%>